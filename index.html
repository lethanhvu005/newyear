<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ch√∫c m·ª´ng nƒÉm m·ªõi ‚ú®</title>

  <style>
    :root{
      --glass: rgba(255,255,255,.10);
      --glass2: rgba(255,255,255,.06);
      --stroke: rgba(255,255,255,.14);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.72);
    }

    *{ box-sizing: border-box; }
    html,body{ height:100%; margin:0; overflow:hidden; font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial; }
    body{
      color: var(--text);
      background:#05060f;
    }

    /* animated gradient background */
    .bg{
      position:fixed; inset:-30%;
      background:
        radial-gradient(circle at 15% 20%, rgba(255, 205, 90,.75), rgba(255,205,90,0) 40%),
        radial-gradient(circle at 80% 25%, rgba(255, 80, 200,.55), rgba(255,80,200,0) 45%),
        radial-gradient(circle at 60% 85%, rgba(60, 220, 255,.55), rgba(60,220,255,0) 50%),
        linear-gradient(120deg, #0b0f2a, #1c0b2d 55%, #001a2e);
      filter: saturate(1.15) contrast(1.05);
      animation: drift 18s ease-in-out infinite alternate;
      transform: translateZ(0);
    }
    @keyframes drift{
      0%{ transform: translate(-2%, -2%) scale(1.02); }
      100%{ transform: translate(2%, 2%) scale(1.06); }
    }

    /* subtle grain */
    .grain{
      pointer-events:none;
      position:fixed; inset:0;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='120' height='120' filter='url(%23n)' opacity='.22'/%3E%3C/svg%3E");
      mix-blend-mode: overlay;
      opacity:.25;
    }

    /* FX layers */
    canvas{ position:fixed; inset:0; width:100%; height:100%; }

    /* floating objects */
    .float-layer{ position:fixed; inset:0; pointer-events:none; }
    .floater{
      position:absolute;
      width: 84px; height: 110px;
      opacity: .95;
      filter: drop-shadow(0 16px 24px rgba(0,0,0,.35));
      animation: up 14s linear infinite;
      transform: translateZ(0);
    }
    /* balloon / lantern-ish with SVG */
    .floater svg{ width:100%; height:100%; display:block; }
    @keyframes up{
      from{ transform: translate3d(0, 115vh, 0) rotate(0deg); }
      to{ transform: translate3d(0, -140px, 0) rotate(8deg); }
    }

    /* main card */
    .wrap{
      position:fixed; inset:0;
      display:grid; place-items:center;
      padding: 22px;
    }
    .card{
      width: min(900px, 100%);
      background: linear-gradient(180deg, var(--glass), var(--glass2));
      border:1px solid var(--stroke);
      border-radius: 28px;
      box-shadow: 0 28px 90px rgba(0,0,0,.48);
      backdrop-filter: blur(12px);
      overflow:hidden;
      position:relative;
    }
    .card::before{
      content:"";
      position:absolute; inset:-2px;
      background: radial-gradient(circle at 30% 10%, rgba(255,255,255,.18), rgba(255,255,255,0) 40%);
      pointer-events:none;
    }
    .inner{
      padding: 28px 24px 22px;
      display:grid;
      gap: 14px;
      text-align:center;
    }

    .title{
      margin:0;
      font-size: clamp(26px, 4.6vw, 52px);
      letter-spacing: .5px;
      text-shadow: 0 10px 40px rgba(0,0,0,.35);
    }
    .year{
      font-size: clamp(54px, 10vw, 110px);
      line-height: 1;
      font-weight: 900;
      margin: 0;
      background: linear-gradient(90deg, #ffd36e, #ff60d6, #52e6ff, #ffd36e);
      background-size: 250% 100%;
      -webkit-background-clip:text;
      background-clip:text;
      color: transparent;
      animation: shine 4.5s linear infinite;
      filter: drop-shadow(0 18px 45px rgba(0,0,0,.35));
    }
    @keyframes shine{
      0%{ background-position:0% 50%; }
      100%{ background-position:250% 50%; }
    }

    .msg{
      margin:0;
      font-size: clamp(14px, 2.1vw, 18px);
      color: var(--muted);
    }

    .pillrow{
      display:flex;
      flex-wrap:wrap;
      justify-content:center;
      gap:10px;
      margin-top: 6px;
    }
    .pill{
      pointer-events:auto;
      user-select:none;
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 10px 12px;
      border-radius: 999px;
      background: rgba(0,0,0,.22);
      border: 1px solid rgba(255,255,255,.14);
      color: rgba(255,255,255,.88);
      font-size: 13px;
      cursor: pointer;
      transition: transform .15s ease, background .15s ease;
    }
    .pill:hover{ transform: translateY(-1px); background: rgba(0,0,0,.28); }
    .pill:active{ transform: translateY(0px) scale(.98); }

    .hint{
      margin: 10px 0 0;
      font-size: 13px;
      color: rgba(255,255,255,.70);
    }

    .footer{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      padding: 14px 18px 16px;
      border-top: 1px solid rgba(255,255,255,.10);
      color: rgba(255,255,255,.70);
      font-size: 12px;
    }
    .footer a{ color: rgba(255,255,255,.80); text-decoration:none; border-bottom:1px dashed rgba(255,255,255,.35); }
    .footer a:hover{ color: rgba(255,255,255,.95); }

    /* mobile safe area */
    @supports(padding:max(0px)){
      .wrap{ padding: max(16px, env(safe-area-inset-top)) max(16px, env(safe-area-inset-right)) max(16px, env(safe-area-inset-bottom)) max(16px, env(safe-area-inset-left)); }
    }
  </style>
</head>

<body>
  <div class="bg"></div>
  <div class="grain"></div>

  <!-- confetti + fireworks canvases -->
  <canvas id="confetti"></canvas>
  <canvas id="fireworks"></canvas>

  <!-- floating lantern/balloons -->
  <div class="float-layer" id="floatLayer" aria-hidden="true"></div>

  <div class="wrap">
    <div class="card">
      <div class="inner">
        <h1 class="title">Ch√∫c m·ª´ng nƒÉm m·ªõi! ‚ú®</h1>
        <div class="year" id="year">2026</div>
        <p class="msg" id="msg">
          Ch√∫c b·∫°n m·ªôt nƒÉm m·ªõi an khang, th·ªãnh v∆∞·ª£ng, nhi·ªÅu may m·∫Øn v√† tr√†n ƒë·∫ßy nƒÉng l∆∞·ª£ng t√≠ch c·ª±c!
        </p>

        <div class="pillrow">
          <button class="pill" id="btnBurst" type="button">üéÜ B·∫Øn ph√°o hoa</button>
          <button class="pill" id="btnConfetti" type="button">üéâ Th√™m confetti</button>
          <button class="pill" id="btnMusic" type="button">üîä B·∫≠t nh·∫°c</button>
        </div>

        <p class="hint">Tip: click/ch·∫°m m√†n h√¨nh ƒë·ªÉ t·∫°o ph√°o hoa ·ªü v·ªã tr√≠ b·∫°n ch·∫°m.</p>
      </div>

      <div class="footer">
        <span>Made for QR ‚Ä¢ m·ªü tr√™n ƒëi·ªán tho·∫°i c√†ng ƒë·∫πp</span>
        <span><a href="#" id="copyLink">Copy link</a></span>
      </div>
    </div>
  </div>

<script>
(() => {
  // ===== basic helpers =====
  const DPR = Math.min(2, window.devicePixelRatio || 1);
  const rand = (a,b)=> a + Math.random()*(b-a);

  // ===== year auto =====
  document.getElementById('year').textContent = new Date().getFullYear();

  // ===== floating lantern/balloons =====
  const layer = document.getElementById('floatLayer');
  const floaterSVG = (hue=30) => `
    <svg viewBox="0 0 100 130" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="g" x1="0" x2="0" y1="0" y2="1">
          <stop offset="0" stop-color="hsla(${hue},100%,70%,1)"/>
          <stop offset="1" stop-color="hsla(${(hue+35)%360},100%,55%,1)"/>
        </linearGradient>
        <radialGradient id="shine" cx="30%" cy="25%" r="60%">
          <stop offset="0" stop-color="rgba(255,255,255,.65)"/>
          <stop offset="1" stop-color="rgba(255,255,255,0)"/>
        </radialGradient>
      </defs>
      <!-- balloon/lantern body -->
      <path d="M50 8
               C 20 8, 12 36, 12 58
               C 12 92, 30 112, 50 112
               C 70 112, 88 92, 88 58
               C 88 36, 80 8, 50 8 Z"
            fill="url(#g)" opacity=".95"/>
      <path d="M50 8
               C 20 8, 12 36, 12 58
               C 12 92, 30 112, 50 112
               C 70 112, 88 92, 88 58
               C 88 36, 80 8, 50 8 Z"
            fill="url(#shine)" opacity=".55"/>
      <!-- little knot -->
      <path d="M42 110 L58 110 L54 121 L46 121 Z" fill="rgba(255,255,255,.65)" opacity=".45"/>
      <!-- string -->
      <path d="M50 121 C 44 126, 54 128, 48 132" stroke="rgba(255,255,255,.45)" stroke-width="2" fill="none"/>
    </svg>
  `;

  function spawnFloater(){
    const el = document.createElement('div');
    el.className = 'floater';
    const hue = rand(0,360);
    el.innerHTML = floaterSVG(hue);

    const left = rand(2, 92); // vw
    const dur = rand(10, 18);
    const delay = rand(0, 6);
    const size = rand(56, 96);

    el.style.left = left + 'vw';
    el.style.width = size + 'px';
    el.style.height = size * 1.28 + 'px';
    el.style.animationDuration = dur + 's';
    el.style.animationDelay = (-delay) + 's';
    el.style.opacity = String(rand(0.55, 0.95));

    layer.appendChild(el);
    // keep DOM light
    setTimeout(()=> el.remove(), (dur+2)*1000);
  }
  // initial
  for(let i=0;i<10;i++) spawnFloater();
  setInterval(spawnFloater, 1400);

  // ===== confetti =====
  const cConf = document.getElementById('confetti');
  const xConf = cConf.getContext('2d');

  function resizeCanvas(c){
    c.width = Math.floor(innerWidth * DPR);
    c.height = Math.floor(innerHeight * DPR);
  }
  addEventListener('resize', () => {
    resizeCanvas(cConf);
    resizeCanvas(cFire);
  });
  resizeCanvas(cConf);

  const confetti = [];
  function addConfetti(amount=180){
    for(let i=0;i<amount;i++){
      confetti.push({
        x: rand(0, cConf.width),
        y: rand(-cConf.height*0.2, cConf.height*0.2),
        vx: rand(-.6,.6) * DPR,
        vy: rand(1.6, 3.6) * DPR,
        r: rand(2.2, 5.2) * DPR,
        rot: rand(0, Math.PI*2),
        vr: rand(-.12,.12),
        hue: rand(0,360),
        life: rand(140, 240),
      });
    }
  }
  addConfetti(120);

  function confLoop(){
    xConf.clearRect(0,0,cConf.width,cConf.height);
    for(let i=confetti.length-1;i>=0;i--){
      const p = confetti[i];
      p.life -= 1;
      p.x += p.vx;
      p.y += p.vy;
      p.rot += p.vr;

      // gentle wind
      p.vx += Math.sin((p.y / (140*DPR))) * 0.002 * DPR;

      const a = Math.max(0, Math.min(1, p.life/220));
      xConf.save();
      xConf.translate(p.x, p.y);
      xConf.rotate(p.rot);
      xConf.globalAlpha = a;
      xConf.fillStyle = `hsla(${p.hue}, 100%, 70%, 1)`;
      xConf.fillRect(-p.r, -p.r*0.6, p.r*2, p.r*1.2);
      xConf.restore();

      if(p.y > cConf.height + 40 || p.x < -60 || p.x > cConf.width + 60 || p.life <= 0) confetti.splice(i,1);
    }

    // keep a baseline amount
    if(confetti.length < 140) addConfetti(30);

    requestAnimationFrame(confLoop);
  }
  confLoop();

  // ===== fireworks =====
  const cFire = document.getElementById('fireworks');
  const xFire = cFire.getContext('2d');
  resizeCanvas(cFire);

  const sparks = [];
  function burst(px, py, power=1){
    const n = Math.floor(rand(50, 90) * power);
    for(let i=0;i<n;i++){
      const a = rand(0, Math.PI*2);
      const sp = rand(1.8, 5.8) * DPR * power;
      sparks.push({
        x:px, y:py,
        vx: Math.cos(a)*sp,
        vy: Math.sin(a)*sp,
        hue: rand(0,360),
        r: rand(1.2, 2.6)*DPR,
        life: rand(55, 110),
      });
    }
  }

  let t = 0;
  function fireLoop(){
    t++;
    // trail fade
    xFire.fillStyle = 'rgba(0,0,0,0.10)';
    xFire.fillRect(0,0,cFire.width,cFire.height);

    // auto fireworks sometimes
    if(t % 34 === 0){
      burst(rand(cFire.width*0.15, cFire.width*0.85), rand(cFire.height*0.12, cFire.height*0.55), rand(0.8, 1.25));
    }

    for(let i=sparks.length-1;i>=0;i--){
      const p = sparks[i];
      p.life -= 1;
      p.vx *= 0.985;
      p.vy = p.vy*0.985 + 0.03*DPR;
      p.x += p.vx;
      p.y += p.vy;

      const a = Math.max(0, Math.min(1, p.life/110));
      xFire.beginPath();
      xFire.fillStyle = `hsla(${p.hue}, 100%, 70%, ${a})`;
      xFire.arc(p.x, p.y, p.r, 0, Math.PI*2);
      xFire.fill();

      if(p.life <= 0 || p.x < -80 || p.x > cFire.width+80 || p.y > cFire.height+120) sparks.splice(i,1);
    }

    requestAnimationFrame(fireLoop);
  }
  // initial bursts
  for(let i=0;i<4;i++){
    burst(rand(cFire.width*0.2, cFire.width*0.8), rand(cFire.height*0.18, cFire.height*0.55), rand(0.9, 1.15));
  }
  fireLoop();

  // click/tap fireworks
  function tap(ev){
    const rect = cFire.getBoundingClientRect();
    const cx = ('touches' in ev) ? ev.touches[0].clientX : ev.clientX;
    const cy = ('touches' in ev) ? ev.touches[0].clientY : ev.clientY;
    burst((cx - rect.left)*DPR, (cy - rect.top)*DPR, 1.2);
  }
  addEventListener('click', tap);
  addEventListener('touchstart', tap, {passive:true});

  // buttons
  document.getElementById('btnBurst').addEventListener('click', () => {
    burst(rand(cFire.width*0.2, cFire.width*0.8), rand(cFire.height*0.12, cFire.height*0.55), 1.35);
  });
  document.getElementById('btnConfetti').addEventListener('click', () => addConfetti(220));

  // ===== optional music (user gesture) =====
  let audio, playing = false;
  const btnMusic = document.getElementById('btnMusic');

  function setMusicLabel(){
    btnMusic.textContent = playing ? 'üîà T·∫Øt nh·∫°c' : 'üîä B·∫≠t nh·∫°c';
  }
  setMusicLabel();

  btnMusic.addEventListener('click', async () => {
    try{
      if(!audio){
      
        audio = new Audio();
        audio.src = "song.mp3"; // ƒë·ªÉ tr·ªëng m·∫∑c ƒë·ªãnh (kh√¥ng nh·∫°c)
        audio.loop = true;
        audio.volume = 0.35;
      }

      // N·∫øu ch∆∞a set src -> ch·ªâ b·∫≠t/t·∫Øt label, kh√¥ng l·ªói
      if(!audio.src || audio.src.endsWith(location.href)){
        alert("B·∫°n ch∆∞a th√™m nh·∫°c üéµ\n\nN·∫øu mu·ªën c√≥ nh·∫°c: upload file song.mp3 l√™n repo (c√πng th∆∞ m·ª•c index.html), r·ªìi trong code ƒë·ªïi audio.src = \"song.mp3\".");
        return;
      }

      if(!playing){
        await audio.play();
        playing = true;
      } else {
        audio.pause();
        playing = false;
      }
      setMusicLabel();
    }catch(e){
      alert("Tr√¨nh duy·ªát ch·∫∑n ph√°t nh·∫°c ho·∫∑c file nh·∫°c kh√¥ng t·∫£i ƒë∆∞·ª£c.");
    }
  });

  // copy link helper
  document.getElementById('copyLink').addEventListener('click', async (e) => {
    e.preventDefault();
    const url = location.href;
    try{
      await navigator.clipboard.writeText(url);
      alert("ƒê√£ copy link ‚úÖ\n" + url);
    }catch{
      prompt("Copy link n√†y ƒë·ªÉ t·∫°o QR:", url);
    }
  });

})();
</script>
</body>
</html>
